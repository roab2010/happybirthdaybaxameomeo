<!DOCTYPE html>
<html lang="vi">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Happy Birthday Pthao ðŸŽ‰</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Pacifico&family=Roboto:wght@400;700&display=swap"
        rel="stylesheet">
    <style>
        body {
            background: #87CEEB;
            /* Light sky-blue */
            font-family: 'Roboto', sans-serif;
            margin: 0;
            overflow: hidden;
            text-align: center;
            color: #333;
        }

        .container {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            min-height: 100vh;
            padding: 1rem;
        }

        h1 {
            font-family: 'Pacifico', cursive;
            font-size: 2.5rem;
            color: #FF4500;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.2);
            margin-bottom: 0.5rem;
            animation: zoomIn 0.8s ease-out;
        }

        h2 {
            font-size: 2rem;
            font-weight: 700;
            color: #FFD700;
            text-shadow: 1px 1px 3px rgba(0, 0, 0, 0.2);
            margin-bottom: 2rem;
            animation: zoomIn 0.8s ease-out 0.3s forwards;
            opacity: 0;
        }

        @keyframes zoomIn {
            from {
                transform: scale(0.8);
                opacity: 0;
            }

            to {
                transform: scale(1);
                opacity: 1;
            }
        }

        /* Cake burning styling */
        #cake-container {
            position: relative;
            width: 200px;
            height: 200px;
            margin-bottom: 1rem;
        }

        .cake {
            width: 100%;
            height: auto;
            transition: opacity 0.5s;
        }

        .burning {
            animation: flicker 0.2s infinite;
        }

        @keyframes flicker {

            0%,
            100% {
                opacity: 1;
            }

            50% {
                opacity: 0.8;
            }
        }

        /* Fireworks styling */
        .firework {
            position: absolute;
            bottom: 0;
            width: 4px;
            height: 4px;
            background: radial-gradient(circle, white, transparent);
            border-radius: 50%;
            opacity: 0;
            animation: explode 1s ease-out forwards;
        }

        @keyframes explode {
            0% {
                opacity: 1;
                transform: translate(0, 0) scale(1);
            }

            100% {
                opacity: 0;
                transform: translate(var(--dx), var(--dy)) scale(0);
            }
        }
    </style>
</head>

<body>
    <audio id="bg-music" src="birthday-music.mp3" loop autoplay></audio>

    <div class="container">
        <h1>Happy BirthDay Pthao</h1>
        <h2>21</h2>
        <div id="cake-container">
            <img src="/assset/images/banhkem.png" alt="Cake Burning" id="cake-burning" class="cake burning" />
            <img src="/assset/images/banhkem2.png" alt="Cake" id="cake" class="cake" style="opacity: 0;" />
        </div>
        <p id="blow-text" style="font-size:1.25rem; color:#fff; text-shadow:1px 1px 2px rgba(0,0,0,0.2); opacity:1;">BÃ 
            xÃ£ thá»•i i</p>
    </div>

    <div id="fireworks-container"></div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const candle = document.querySelector('#cake-container .burning');
            const cakeBurn = document.getElementById('cake-burning');
            const cakeNormal = document.getElementById('cake');
            const blowText = document.getElementById('blow-text');
            const fireworksContainer = document.getElementById('fireworks-container');

            // Switch cake after 3.5s then fireworks for 5s
            setTimeout(() => {
                cakeBurn.style.opacity = '0';
                cakeBurn.classList.remove('burning');
                cakeNormal.style.opacity = '1';
                // Fireworks
                function createFirework(xOrigin) {
                    for (let i = 0; i < 20; i++) {
                        const spark = document.createElement('div');
                        spark.classList.add('firework');
                        const angle = Math.random() * 2 * Math.PI;
                        const radius = 100 + Math.random() * 50;
                        const dx = Math.cos(angle) * radius + 'px';
                        const dy = Math.sin(angle) * radius + 'px';
                        spark.style.setProperty('--dx', dx);
                        spark.style.setProperty('--dy', dy);
                        spark.style.left = xOrigin + 'px';
                        spark.style.bottom = '50px';
                        fireworksContainer.appendChild(spark);
                        spark.addEventListener('animationend', () => spark.remove());
                    }
                }
                const fireInterval = setInterval(() => {
                    const leftX = window.innerWidth * 0.2;
                    const rightX = window.innerWidth * 0.8;
                    createFirework(leftX);
                    createFirework(rightX);
                }, 500);
                setTimeout(() => {
                    clearInterval(fireInterval);
                    window.location.href = 'deotainghe.html';
                }, 5000);
            }, 3500);
        });
    </script>
</body>

</html>